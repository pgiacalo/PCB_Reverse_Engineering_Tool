# Release Notes - v3.0

**Release Date**: TBD

## Overview
Version 3.0 introduces major improvements including copy/paste functionality, enhanced AI features, Find button in Component Properties, security improvements, and comprehensive documentation updates.

## Major New Features

### Copy/Paste Components
- **Component Copy/Paste**: Added copy/paste functionality for components
  - Use `Ctrl+C` / `Cmd+C` to copy selected component
  - Use `Ctrl+V` / `Cmd+V` to paste component
  - Pasted component is a clone with:
    - Same properties as original (type, value, pin count, etc.)
    - New unique ID and designator (maintains prefix, increments number, e.g., U8 → U9)
    - No pin connections (all connections cleared)
    - Position offset by 5mm (right and down from original)
    - All other properties preserved (pin names, notes, etc.)
- **Documentation**: Added copy/paste documentation to Help, About, and README

### Find Button in Component Properties
- **Find by Designator**: Added Find button next to Designator field in Component Properties dialog
- Centers view on matching components and selects all matches
- Works like Find buttons in Information dialog
- No popup dialogs - clean visual feedback only

### Enhanced AI Features
- **IC Type and Package Type**: Added IC Type and Package Type fields extracted from datasheets
- **Package Type Options**: Added "Various" option to Package Type for cases where Gemini returns multiple package types
- **Enhanced Extraction Dialog**: Improved "Extraction Complete" dialog formatting:
  - Shows property names before values (e.g., "IC Type: Logic", "Package Type: PDIP")
  - Displays extracted pin names as comma-separated list in numeric order
- **Model Selection**: Added ability to select Gemini model (gemini-2.5-flash-lite, gemini-2.5-flash, gemini-2.5-pro, etc.)
- **AI Settings Menu**: Added "File → AI Settings" menu item (moved from Settings)
- **Security Information**: Added security information section to AI Settings dialog explaining localStorage storage
- **Remove API Key Button**: Added button to remove API key from browser localStorage

## UI/UX Improvements

### Component Properties Dialog
- **Field Reorganization**: Reorganized Component Properties dialog fields for better organization
- **IC Properties Section**: Added IC Properties section
- **Notes Field**: Fixed Notes field display
- **InfoDialog Component**: Replaced browser alerts with user-friendly InfoDialog component
- **Field Display**: Ensured all fields display correctly

### Component Management
- **Search Functionality**: Added search functionality and improved component naming
- **Fixed Pin Count**: Added fixedPinCount field for components with fixed pin counts
- **Error Dialogs**: Improved error dialogs with better messaging

### Pad/Via Pattern Placement
- **Dialog Improvements**: Improved Pad/Via Pattern Placement dialogs:
  - Narrower width for better fit
  - Smaller title
  - Microchip icons for orientation
  - Enhanced validation

### Documentation
- **Simplified README**: Completely restructured README.md to focus on end users
  - Removed detailed usage instructions
  - Directs users to Help menu for detailed instructions
  - Emphasized virtual PCB x-ray capability for signal path tracing
  - Made README more appealing and user-friendly
- **DEVELOPMENT.md**: Created separate DEVELOPMENT.md file with all developer-specific content
- **Splash Screen**: Made "Best viewed in browser's full screen mode" text bold

## Bug Fixes

### Component Editor
- **Crash Fix**: Fixed ComponentEditor crash by removing duplicate position key and adding missing infoDialog state
- **Pin Name Preservation**: Fixed pin name preservation bug where Pin 1 name was removed when using Connect button
- **Property Persistence**: Fixed component property persistence for Manufacturer, Part Number, and Operating Temperature

### Datasheet Handling
- **File Handling**: Fixed datasheet file handling - removed code that tried to reload datasheet PDF files
- **Static Display**: Datasheet filename now displays as static text with note to re-choose file
- **Both Dialogs**: Applied fix to both Component Properties dialog and Information dialog

### Designator Management
- **Counter Bug Fix**: Fixed critical bug in paste logic where designator counters weren't properly updated
- **Counter Persistence**: Ensured designator counters are properly maintained, persisted, and reloaded for all prefixes
- **Duplicate Prevention**: Fixed paste logic to respect useGlobalDesignatorCounters setting
- **Designator Assignment**: Fixed copy/paste designator assignment to maintain prefix signature

## Security Improvements

### API Key Security
- **Build Security**: Removed API key from build bundle - critical security fix
- **localStorage Only**: API keys now only stored in browser localStorage, never bundled into production builds
- **Security Documentation**: Added security information to AI Settings dialog
- **Remove Key Feature**: Added ability to remove API key from browser

### Security Incident Response
- **Secret Scanner**: Fixed .env.example to avoid triggering secret scanner
- **Documentation**: Added security incident response documentation

## Technical Improvements

### Code Quality
- Improved error handling throughout the application
- Better state management for component properties
- Enhanced validation for component operations

## Version Information
- **Version**: 3.0
- **Previous Version**: 2.9

## Migration Notes
- No breaking changes
- All project files from previous versions remain fully compatible
- No migration required
- API keys stored in localStorage will persist across updates

## Highlights

This release represents a significant milestone with:
- **Copy/Paste functionality** for faster component placement
- **Enhanced AI features** with better extraction and model selection
- **Improved security** with API key handling fixes
- **Better documentation** with simplified README and separate developer docs
- **Find functionality** in Component Properties for quick component location
- **Comprehensive bug fixes** improving stability and reliability

