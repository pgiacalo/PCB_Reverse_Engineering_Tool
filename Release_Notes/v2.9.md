# Release Notes - v2.9

## Overview
Version 2.9 introduces AI-powered features, IC placement improvements, component selection enhancements, and significant UI/UX improvements.

## Major New Features

### AI-Powered Pin Name Extraction
- **Google Gemini API Integration**: Added AI-powered pin name extraction from datasheet PDFs using Google Gemini API
- Automatically extract pin names from component datasheets
- Saves time when documenting components

### IC Pin Layout Drawing
- **IC Pin Layout Drawing Feature**: Added IC Pin Layout Drawing Feature
- Draw and visualize IC pin layouts directly on the PCB
- Improved component placement workflow

### Component Selection Dialog
- **Improved UX**: Enhanced Component Selection Dialog user experience
- Better component selection and placement workflow

### Default View
- **Default View 0**: Established default View 0 showing origin with photos fully contained
- Improved initial view setup

## UI/UX Improvements

### Keyboard Shortcuts
- **Option+V and Option+P**: Added Option-V and Option-P keyboard shortcuts for IC Placement dialog
- Fixed Option+V and Option+P shortcuts using e.code instead of e.key for better cross-platform compatibility
- Added 'A' key shortcut to open Component Properties dialog
- Added A key shortcut to Step 6 (Place Components) in Help menu
- Updated documentation to use Alt/Option terminology consistently

### Component Properties
- **Pin Name Column**: Changed 'Name' column to 'Pin Name' in Component Properties and Information dialogs
- Made Name column data-driven based on pinNames in componentDefinitions.json
- Added Option key hover pin table for Semiconductors
- Created componentDefinitions.json schema for better component management

### Datasheet Handling
- **Datasheet File Management**: Persist local datasheet file name (not file contents) in project files
- Fixed datasheet file input display and added clickable links
- Fixed datasheet URL persistence and removed duplicate fields
- Improved datasheet field save/load logic with debug logging

### Size Controls
- **Shift Key Modifier**: Added Shift key modifier for faster size changes (5x faster)
- Improved size adjustment workflow

### Splash Screen
- **Video Background**: Added video background to splash screen
- Updated splash screen video to new version
- Improved cross-platform compatibility
- Moved Donate button to lower right and updated splash screen message

### Visual Improvements
- **Pulsing Animation**: Added pulsing heartbeat animation to Fetch Pin Names button during AI processing
- Darkened Pin #1 connection lines for all semiconductors
- Added darker color for Pin 1 component connections
- Improved visual feedback during operations

## Bug Fixes

### Component System
- Fixed component designator mismatch using useRef pattern to resolve stale closure bug
- Fixed component cursor flicker by unifying tool size with component icons
- Fixed component cursor flicker on canvas
- Fixed component size/color consistency
- Improved v2 data-driven component system

### Dialog Improvements
- Fixed ComponentSelectionDialog radio buttons
- Fixed Information dialog Polarized field display
- Fixed Select Component dialog close behavior
- Corrected designator labels

### Project Management
- Fixed Save Project and Auto Save functionality
- Improved project file handling

### Tool System
- Fixed trace cursor and preview flicker by making tool instances the single source of truth for color/size
- Fixed IC Placement preview rectangle offset
- Restored Option+click functionality

### Perspective and View
- Fixed origin centering
- Renamed to PCB Tracer
- Fixed coordinate transformations for perspective view
- Require Shift/Caps Lock for perspective changes
- Enable arrow key component movement

### Other Fixes
- Fixed pointIdCounter validation
- Fixed pin name dropdown display
- Fixed all TypeScript build errors
- Fixed linter errors in App.tsx
- Removed duplicate variable declarations
- Fixed componentDefinition prop

## Technical Improvements

### Component Properties Dialog
- Fixed polarity to boolean
- Optimized field widths
- Removed duplicates
- Improved dialog organization

### Layer Management
- Implemented per-tool layer defaults with persistence
- Improved layer management workflow

### GitHub Pages
- Improved GitHub Pages deployment script for large video files
- Fixed GitHub Pages deployment for large video files

### Code Quality
- Added trailing newlines to files for consistency
- Improved code organization
- Fixed React Rules of Hooks violation causing app crash on component double-click

### About Menu
- Updated About menu Technologies section
- Improved About menu content

### BOM
- Improved BOM values and formatting
- Removed File Settings submenu
- Silenced unused BOM settings props in MenuBar

## Version Information
- **Version**: 2.9
- **Previous Version**: 2.8.0

## Migration Notes
- No breaking changes
- All project files from previous versions remain fully compatible
- No migration required

