# PCBTracer v3.5.0 Release Notes

**Release Date**: January 9, 2026

## ğŸ¯ Major Features

### AI-Powered Net Name Inference
PCBTracer now uses artificial intelligence to suggest descriptive names for circuit nets in exported netlists, making schematics more readable and easier to understand.

**How it works:**
1. Export a netlist via **File â†’ Export Netlist (JSON)**
2. AI analyzes the circuit connectivity, component types, and pin functions
3. Suggests descriptive names for generic nets (e.g., "N$5" â†’ "CLOCK_SIGNAL", "N$12" â†’ "SPI_MOSI")
4. Each suggestion includes a confidence score
5. Review and approve suggestions in an interactive dialog before export
6. Approved names are applied to the netlist automatically

**Benefits:**
- **Improved Readability**: Descriptive net names make circuits easier to understand
- **Time Savings**: Automatic naming eliminates manual net labeling
- **Quality Assurance**: Confidence scores help identify uncertain suggestions
- **User Control**: Review and approve/reject each suggestion before applying

**Supported AI Providers:**
- **Google Gemini** (gemini-2.0-flash, gemini-1.5-pro, gemini-1.5-flash)
- **Anthropic Claude** (claude-sonnet-4, claude-3.5-sonnet, claude-3.5-haiku, claude-3-opus)

**Configuration:**
- Set up your AI provider and API key in **File â†’ AI Settings**
- Choose your preferred model for optimal results
- API keys are stored locally in your browser

## ğŸ› Bug Fixes

### API Key Persistence Issue (Critical)
**Fixed**: API keys were disappearing after being saved due to a timing/ordering bug in the configuration save process.

**Root Cause**: 
- The API key was being saved before the storage type preference was updated
- Subsequent reads would look in the wrong storage location (localStorage vs sessionStorage)

**Solution**:
- Reordered configuration save operations to ensure storage type is updated first
- Added comprehensive error handling around all localStorage/sessionStorage access
- Keys now persist correctly across browser restarts

**Impact**: Users can now reliably use AI features (datasheet extraction and net naming) without re-entering API keys.

## ğŸ“š Documentation Updates

### Help Menu Enhancements
- Updated **Help â†’ About** to show version 3.5.0
- Enhanced **Help â†’ Documentation** with detailed AI features section
- Added explanation of intelligent net naming workflow
- Clarified AI provider configuration steps

## ğŸ”§ Technical Improvements

### Code Quality
- Removed all debug logging added during troubleshooting
- Improved error handling for corrupted browser storage
- Enhanced AI service abstraction for future extensibility

### Model Support
- Maintained stable, widely-available AI models only
- Removed experimental models requiring special API access
- Ensured all listed models work with standard API keys

## ğŸ¨ User Experience

### Netlist Export Dialog
- New interactive suggestion review dialog
- Clear confidence scores for each net name suggestion
- Checkbox selection for individual suggestions
- Summary of AI analysis results (success/failure, applied count)
- Graceful fallback when AI is unavailable or fails

## ğŸ“ Notes

- AI net naming requires an active internet connection
- API usage is subject to your provider's rate limits and pricing
- Original net names (N$X) are preserved if AI analysis fails or is disabled
- Net naming suggestions are based on circuit analysis and may require review

## ğŸ”® Future Enhancements

Planned AI features for future releases:
- Circuit troubleshooting analysis using measurement data
- Automated component value recommendations
- Signal integrity analysis
- Power distribution network validation

---

**Upgrade Instructions**: 
1. Clear browser cache and reload the application
2. Configure AI settings if not already done (File â†’ AI Settings)
3. Test net naming with File â†’ Export Netlist (JSON)

**Feedback**: Report issues or suggestions via GitHub Issues or the project repository.
